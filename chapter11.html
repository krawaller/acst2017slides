<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">

    <title>Beginning AngularJS</title>

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
    <link rel="stylesheet" href="mc2/styles/reveal.css">
    <link rel="stylesheet" href="mc2/styles/theme.css" id="theme">
    <link rel="stylesheet" href="mc2/styles/code.css">
    <!--STARTCOURSESPECIFICSTYLES--><link rel="stylesheet" href="styles/cssdemo.css">
<link rel="stylesheet" href="styles/styles.css"><!--ENDCOURSESPECIFICSTYLES-->
  </head>

  <body>
    <div id="pos"></div>
    <div class="reveal">
      <div class="slides">
        <section class="slide chaptertitle">
          <div class="slidecontent">
            <div class="chapternumber"> chapter 11 of 12 </div>
            <h1>Beginning AngularJS</h1>
            <span>Framework time!</p>
</span>
          </div>
        </section>
        
        <!--STARTSECTIONINDEX--><section class="slide sectionlist">
  <div class="slidecontent">
    <h3>Sections in this chapter</h3>
    <ol>
    <li><a href="#/2">Templating</a></li><li><a href="#/3">DSL</a></li><li><a href="#/4">Exercise&nbsp;&#8209;&nbsp;Handlebars</a></li><li><a href="#/5">The&nbsp;name&nbsp;AngularJS</a></li><li><a href="#/6">Getting&nbsp;started</a></li><li><a href="#/7">Exercise,&nbsp;basic&nbsp;Angular&nbsp;setup</a></li><li><a href="#/8">Controllers</a></li><li><a href="#/9">Exercise,&nbsp;controllers</a></li><li><a href="#/10">Loops</a></li><li><a href="#/11">More&nbsp;DSL&nbsp;words</a></li><li><a href="#/12">Exercise&nbsp;&#8209;&nbsp;AngularJS&nbsp;dabbling</a></li>
    </ol>
  </div>
</section>
<!--ENDSECTIONINDEX-->
        <!--STARTCHAPTERCONTENT--><!--STARTSECTION1--><section>
  <section class="slide sectiontitle">
    <div class="slidecontent">
      <div class='sectioncount'>Section 1/11</div>
      <h3>Templating</h3>
      <p>Converting data to UI</p>
</p>
    </div>
  </section>
  <section class="slide" data-pos="11-1-1">
<span class="pos">11-1-1</span>
<div class="slidecontent"><p>So! We&#39;re going to learn AngularJS, which is a <strong>framework</strong>. </p>
<p>But before we get started on that, let&#39;s cut our teeth on a <strong>smaller part of the framework problem</strong>, namely <strong>templating</strong>.</p>
</div></section>
<section class="slide" data-pos="11-1-2">
<span class="pos">11-1-2</span>
<div class="slidecontent"><p>We&#39;ll use the <a href="http://handlebarsjs.com" class="link" target="_blank">Handlebars</a> templating library, for no other reason than the fact that it is <strong>very typical</strong>. Oh, and <strong>insanely popular</strong>:</p>
<p><img src="resources/images/handlebarsstats.png" alt=""></p>
</div></section>
<section class="slide" data-pos="11-1-3">
<span class="pos">11-1-3</span>
<div class="slidecontent"><p>Here&#39;s a <strong>Handlebars template definition</strong> for showing a <strong>user</strong>. Likely this is harboured in a file called <code>user.hbt</code>, where <code>.hbt</code> is short for HandleBars Template.</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"user"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"{{imgurl}}"</span>/&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h4</span>&gt;</span>{{firstname}} {{lastname}}<span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{{description}}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p>Notice the <strong>double curly braces</strong> which are of course <strong>data placeholders</strong>.</p>
</div></section>
<section class="slide" data-pos="11-1-4">
<span class="pos">11-1-4</span>
<div class="slidecontent"><p>If we send the content of such a file into <strong><code>Handlebars.compile</code></strong>...</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">let</span> usertemplate = Handlebars.compile(definition);
</code></pre>
<p>...then we get back a <strong>template function</strong> that, when called with some <code>data</code>, will <strong>return the corresponding DOM</strong> structure.</p>
</div></section>
<section class="slide" data-pos="11-1-5">
<span class="pos">11-1-5</span>
<div class="slidecontent"><p>So if we have this user object...</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">let</span> data = {
    <span class="hljs-attr">firstname</span>: <span class="hljs-string">'John'</span>,
    <span class="hljs-attr">lastname</span>: <span class="hljs-string">'Doe'</span>,
    <span class="hljs-attr">imgurl</span>: <span class="hljs-string">'http://some.url'</span>,
    <span class="hljs-attr">description</span>: <span class="hljs-string">'Best imagination EVER.'</span>
};
</code></pre>
<p>...and feed it to the template function...</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">let</span> DOM = usertemplate(data);
</code></pre>
</div></section>
<section class="slide" data-pos="11-1-6">
<span class="pos">11-1-6</span>
<div class="slidecontent"><p>...then <code>DOM</code> will be:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"user"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"http://some.url"</span>/&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h4</span>&gt;</span>John Doe<span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Best imagination EVER.<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p>Here&#39;s the original template definition for comparison:</p>
<pre><code class="lang-handlebars"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"user"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"</span></span></span><span class="hljs-template-variable">{{imgurl}}</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">"</span>/&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h4</span>&gt;</span></span><span class="hljs-template-variable">{{firsname}}</span><span class="xml"> </span><span class="hljs-template-variable">{{lastname}}</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><span class="hljs-template-variable">{{description}}</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
</code></pre>
</div></section>
<section class="slide" data-pos="11-1-7">
<span class="pos">11-1-7</span>
<div class="slidecontent"><p>Let&#39;s look at the flow zoomed out.</p>
<p>First we <strong>compiled</strong> a <strong>template</strong> from a <strong>definition</strong>:</p>
<p><img src="resources/diagrams/template-compile.svg" alt="Handlebars flow"></p>
<p>That <strong>template</strong> can then <strong>transform data to DOM</strong>:</p>
<p><img src="resources/diagrams/template-usefunc.svg" alt="Handlebars flow"></p>
</div></section>
<section class="slide" data-pos="11-1-8">
<span class="pos">11-1-8</span>
<div class="slidecontent"><p>So, in essence, <strong>a (compiled) template</strong>...</p>
<ul>
<li><strong>takes a piece of data</strong>, and</li>
<li><strong>returns some UI</strong></li>
</ul>
</div></section>
<section class="slide" data-pos="11-1-9">
<span class="pos">11-1-9</span>
<div class="slidecontent"><p><strong>Every framework</strong> in existence <strong>contains a templating mechanism</strong> likes this.</p>
<p>In <strong>AngularJS</strong>, templating is <strong>even more central</strong> because we control a lot of stuff from there.</p>
<p>But <strong>more on that later</strong>!</p>
</div></section>
</section>
<!--ENDSECTION1--><!--STARTSECTION2--><section>
  <section class="slide sectiontitle">
    <div class="slidecontent">
      <div class='sectioncount'>Section 2/11</div>
      <h3>DSL</h3>
      
    </div>
  </section>
  <section class="slide" data-pos="11-2-1">
<span class="pos">11-2-1</span>
<div class="slidecontent"><p>In the prior example, you saw how templates have <strong>data placeholders</strong> where it puts the given variables.</p>
<p>The fancy term for this is <strong>interpolation</strong>, btw.</p>
</div></section>
<section class="slide" data-pos="11-2-2">
<span class="pos">11-2-2</span>
<div class="slidecontent"><p>But, this is not enough! Consider for example a view that is supposed to render a bunch of <strong>links to a list of posts</strong>, which might be empty. We need to...</p>
<ul>
<li><strong>repeat</strong> some HTML for every link</li>
<li>or <strong>conditionally</strong> display an apologetic message if there are no posts yet.</li>
</ul>
</div></section>
<section class="slide" data-pos="11-2-3">
<span class="pos">11-2-3</span>
<div class="slidecontent"><p>In order to do that we must have some kind of <strong>looping</strong>, as well as a <strong>conditional</strong>.</p>
<p>But since <strong>HTML isn&#39;t a programming language</strong>, it doesn&#39;t have any of that! </p>
<p>This means that the <strong>templating solution must provide this</strong> too.</p>
</div></section>
<section class="slide" data-pos="11-2-4">
<span class="pos">11-2-4</span>
<div class="slidecontent"><p>Here&#39;s a <strong>Handlebars solution</strong> to the aforementioned problem:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"posts"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Posts<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
  {{#if posts.length}}
  {{#each posts}}
  <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"post"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"{{this.url}}"</span>&gt;</span>{{this.title}}<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
  {{/each}}
  {{else}}
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>No posts :(<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  {{/if}}
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
</div></section>
<section class="slide" data-pos="11-2-5">
<span class="pos">11-2-5</span>
<div class="slidecontent"><p>Picking this apart we see that we do <strong>loops</strong> like this:</p>
<pre><code class="lang-html">{{#each list}}
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Everything in here is repeated for every item in list<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>And {{this}} points to the current item<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Also, {{@index}} is the current index (0,1,2...)!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
{{/each}}
</code></pre>
</div></section>
<section class="slide" data-pos="11-2-6">
<span class="pos">11-2-6</span>
<div class="slidecontent"><p>And here&#39;s the syntax for <strong>conditionals</strong>:</p>
<pre><code class="lang-html">{{#if someVar}}
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>I will only be shown if someVar is truthy<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
{{/if}}
</code></pre>
</div></section>
<section class="slide" data-pos="11-2-7">
<span class="pos">11-2-7</span>
<div class="slidecontent"><p>In other words, Handlebars has <strong>invented it&#39;s own words</strong> for loops and conditionals (and other things too).</p>
<p>The fancy term for this is a <strong>DSL</strong>, short for a <strong>Domain Specific Language</strong>.</p>
</div></section>
<section class="slide" data-pos="11-2-8">
<span class="pos">11-2-8</span>
<div class="slidecontent"><p>This means that <strong>whenever we learn a templating system</strong>, we will likely also have to <strong>learn a DSL</strong>.</p>
<p>AngularJS is no different. In fact, since so much is controlled from the template, it probably has a <strong>more complex DSL than most frameworks</strong>.</p>
</div></section>
</section>
<!--ENDSECTION2--><!--STARTSECTION3--><section>
  <section class="slide sectiontitle">
    <div class="slidecontent">
      <div class='sectioncount'>Section 3/11</div>
      <h3>Exercise - Handlebars</h3>
      <p>Templation contemplation</p>
</p>
    </div>
  </section>
  <section class="slide" data-pos="11-3-1">
<span class="pos">11-3-1</span>
<div class="slidecontent"><p>Let&#39;s approach AngularJS by first trying our hand at some <strong>templating</strong>!</p>
</div></section>
<section class="slide" data-pos="11-3-2">
<span class="pos">11-3-2</span>
<div class="slidecontent"><p>If you go to this address: <a href="http://bit.ly/gamebookpage">http://bit.ly/gamebookpage</a></p>
<p>...you&#39;ll find the date for a <strong>page in a gamebook</strong>.</p>
<p>Your job now is to <strong>use Handlebars to display this data in an html page</strong>!</p>
</div></section>
<section class="slide list" data-pos="11-3-3">
<span class="pos">11-3-3</span>
<div class="slidecontent">
<p>Here&#39;s the plan:</p>
<ul>
<li><span>a</span><strong>create a project basis</strong></li>
<li><span>b</span><strong>&quot;install&quot; Handlebars</strong></li>
<li><span>c</span><strong>add the template</strong></li>
<li><span>d</span><strong>use the page</strong>!</li>
</ul>
</div></section>
<section class="slide num numA" data-pos="11-3-4">
<span class="pos">11-3-4</span>
<div class="slidecontent">
<p>Let&#39;s <strong>build a project foundation</strong>!</p>
<ul>
<li>Create a <strong>new folder someplace</strong></li>
<li>Go there in the terminal and do <strong><code>npm init</code></strong>...</li>
<li>...and just <strong>spam some answers</strong> to the questions</li>
</ul>
</div></section>
<section class="slide" data-pos="11-3-5">
<span class="pos">11-3-5</span>
<div class="slidecontent"><p>Create a barebones <strong><code>index.html</code></strong>. The following is a good start:</p>
<pre><code><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">"X-UA-Compatible"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"ie=edge"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"wrapper"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre><p>The <code>div</code> with the class <code>wrapper</code> set is where we&#39;ll inject our template.</p>
</div></section>
<section class="slide" data-pos="11-3-6">
<span class="pos">11-3-6</span>
<div class="slidecontent"><p>Next up, add a <code>code.js</code>. You can use this one:</p>
<pre><code><span class="hljs-comment">// code.js</span>

<span class="hljs-comment">/* your code goes here! Refer to the slides to do the following steps: */</span>

<span class="hljs-comment">// Steps:</span>

<span class="hljs-comment">// 1. Create the handlebars template</span>
<span class="hljs-comment">// 2. Define a variable containing the data for the template</span>
<span class="hljs-comment">// 3. Compile the template using Handlebars</span>
<span class="hljs-comment">// 4. Call the compiled function and store the result in a variable</span>
<span class="hljs-comment">// 5. Inject HTML into wrapper (this one, you get for free)</span>
<span class="hljs-comment">//    <span class="hljs-doctag">NOTE:</span> the line here assumes that you've stored your result in a</span>
<span class="hljs-comment">//    variable named "DOM" from step 4</span>
<span class="hljs-built_in">document</span>.<span class="hljs-built_in">querySelector</span>(<span class="hljs-string">".wrapper"</span>).innerHTML = DOM;
</code></pre><p>Read the rest of the exercise slides too, but the points in this file
will help you.</p>
</div></section>
<section class="slide" data-pos="11-3-7">
<span class="pos">11-3-7</span>
<div class="slidecontent"><p>Add <code>code.js</code> as a <strong>script element</strong> in <code>index.html</code>:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"code.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
</div></section>
<section class="slide num numB" data-pos="11-3-8">
<span class="pos">11-3-8</span>
<div class="slidecontent">
<p>We &quot;install&quot; Handlebars <strong>downloading it from npm</strong>...</p>
<pre><code>npm <span class="hljs-keyword">install</span> <span class="hljs-comment">--save handlebars</span>
</code></pre><p>...and <strong>add it as a script</strong> before <code>code.js</code> in <code>index.html</code>:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"node_modules/handlebars/dist/handlebars.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
</div></section>
<section class="slide num numC" data-pos="11-3-9">
<span class="pos">11-3-9</span>
<div class="slidecontent">
<p>Note that there&#39;s 5 steps outlined in <code>code.js</code> that you need to complete.
To <strong>create the handlebars template</strong> (step 1) we must have <strong>access to the HTML in our code</strong>.</p>
<p>There are many ways to accomplish this.</p>
</div></section>
<section class="slide" data-pos="11-3-10">
<span class="pos">11-3-10</span>
<div class="slidecontent"><p>One of the simpler ways right now, is to just <strong>define it in a variable</strong>:</p>
<pre><code>var html = `<span class="javascript">
  &lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"myamazinggame"</span>&gt;
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Lots of stuff here...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span>
  &lt;<span class="hljs-regexp">/div&gt;
</span></span>`;
</code></pre><p>Note that we&#39;re using backticks (``) for strings. These are ES6 template strings, which allow you to type them over several lines.</p>
</div></section>
<section class="slide num numD" data-pos="11-3-11">
<span class="pos">11-3-11</span>
<div class="slidecontent">
<p>Now to <strong>show the template</strong> (the rest of the steps in <code>code.js</code>)!</p>
<p>Here I&#39;ll evilly just <strong>refer to the slides</strong> for the syntax and workflow.</p>
</div></section>
<section class="slide" data-pos="11-3-12">
<span class="pos">11-3-12</span>
<div class="slidecontent"><p>Now <strong>bask in the glory</strong> of the gamebook page showing up on screen by opening index.html in a browser!</p>
<p>(You might want to add <strong>some CSS tweaks</strong>, particulary to prevent the image from being too big.)</p>
</div></section>
<section class="slide" data-pos="11-3-13">
<span class="pos">11-3-13</span>
<div class="slidecontent"><p>...and, here&#39;s a solution to this exercise: <a href="resources/angularjsdemos/demos/justhandlebars" target="_blank">JustHandlebars</a></p>
</div></section>
</section>
<!--ENDSECTION3--><!--STARTSECTION4--><section>
  <section class="slide sectiontitle">
    <div class="slidecontent">
      <div class='sectioncount'>Section 4/11</div>
      <h3>The name AngularJS</h3>
      <p>and NOT Angular!</p>
</p>
    </div>
  </section>
  <section class="slide" data-pos="11-4-1">
<span class="pos">11-4-1</span>
<div class="slidecontent"><p>So - <strong>Angular</strong>!</p>
<p>First lesson for the day: it is actually <strong>not named Angular</strong>, but <strong>AngularJS</strong>.</p>
</div></section>
<section class="slide" data-pos="11-4-2">
<span class="pos">11-4-2</span>
<div class="slidecontent"><p>Because, <strong>Angular</strong> is a <strong>completely new version of the framework</strong> which is rebuilt from the ground up but <strong>borrows ideas from its predecessor</strong>.</p>
</div></section>
<section class="slide" data-pos="11-4-3">
<span class="pos">11-4-3</span>
<div class="slidecontent"><p><strong>Angular v1 still lives on</strong>, and will be <strong>developed in parallel with Angular v2+</strong>.</p>
<p>Really, the new Angular could (should?) have been <strong>called something completely different</strong>.</p>
</div></section>
<section class="slide question" data-pos="11-4-4">
<span class="pos">11-4-4</span>
<div class="slidecontent">
<p>So - can you <strong>spot the difference</strong> between these two?</p>
<div class="equality">
<img src="resources/images/angular1.png" alt="">
<span></span>
<img src="resources/images/angular2.svg" alt="">
</div></div></section>
<section class="slide answer" data-pos="11-4-5">
<span class="pos">11-4-5</span>
<div class="slidecontent">
<p>Obviously;</p>
<ul>
<li>The first is the logo for <strong>AngularJS</strong></li>
<li>The second represents <strong>Angular</strong></li>
</ul>
</div></section>
<section class="slide" data-pos="11-4-6">
<span class="pos">11-4-6</span>
<div class="slidecontent"><p>Some more comparisons:</p>
<table class="small">
  <thead>
    <tr>
      <th></th><th>Angular v1</th><th>Angular v2+</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Official name</td>
      <td>AngularJS</td>
      <td>Angular</td>
    </tr>
    <tr>
      <td>Homepage</td>
      <td><a href="http://angularjs.org">http://angularjs.org</a></td>
      <td><a href="http://angular.io">http://angular.io</a></td>
    </tr>
    <tr>
      <td>NPM package</td>
      <td><a href="https://www.npmjs.com/package/angular">angular</a></td>
      <td><a href="https://www.npmjs.com/package/@angular/core">@angular</a></td>
    </tr>
    <tr>
      <td>Git repo</td>
      <td><a href="https://github.com/angular/angular.js">angular/angular.js</a></td>
      <td><a href="https://github.com/angular/angular">angular/angular</a></td>
    </tr>
    <tr>
      <td>version (april 2017)</td>
      <td>1.6.4</td>
      <td>4.0.3</td>
    </tr>
  </tbody>
</table></div></section>
<section class="slide question" data-pos="11-4-7">
<span class="pos">11-4-7</span>
<div class="slidecontent">
<p>...isn&#39;t this <strong>hugely confusing</strong>?</p>
</div></section>
<section class="slide answer" data-pos="11-4-8">
<span class="pos">11-4-8</span>
<div class="slidecontent">
<p>Yes. Yes, it is.</p>
</div></section>
<section class="slide question" data-pos="11-4-9">
<span class="pos">11-4-9</span>
<div class="slidecontent">
<p>And since <strong>development continues on Angular1</strong> - what happens when they need a <strong>new major version</strong>?</p>
</div></section>
<section class="slide answer" data-pos="11-4-10">
<span class="pos">11-4-10</span>
<div class="slidecontent">
<p><img src="resources/images/smileyupsidedown.svg" style="border:none;background:inherit;max-width:200px;margin-bottom:-90px;margin-left:20px;"></p>
</div></section>
<section class="slide" data-pos="11-4-11">
<span class="pos">11-4-11</span>
<div class="slidecontent"><p>Because of this confusion, people used to <strong>refer to the new framework as Angular 2</strong>, even though that is not the official name.</p>
<p>But that won&#39;t work now, since <strong>Angular just hit version 4</strong>!</p>
</div></section>
<section class="slide question" data-pos="11-4-12">
<span class="pos">11-4-12</span>
<div class="slidecontent">
<p>...wait, what happened to version 3?</p>
</div></section>
<section class="slide answer" data-pos="11-4-13">
<span class="pos">11-4-13</span>
<div class="slidecontent">
<p><img src="resources/images/smileyupsidedown.svg" style="border:none;background:inherit;max-width:200px;margin-bottom:-90px;margin-left:20px;"></p>
</div></section>
<section class="slide" data-pos="11-4-14">
<span class="pos">11-4-14</span>
<div class="slidecontent"><p>But, jokes aside - you need to be wary that the information you&#39;re looking at is in fact about the <strong>correct framework</strong>!</p>
</div></section>
</section>
<!--ENDSECTION4--><!--STARTSECTION5--><section>
  <section class="slide sectiontitle">
    <div class="slidecontent">
      <div class='sectioncount'>Section 5/11</div>
      <h3>Getting started</h3>
      <p>So, AngularJS, huh?</p>
</p>
    </div>
  </section>
  <section class="slide" data-pos="11-5-1">
<span class="pos">11-5-1</span>
<div class="slidecontent"><p>Time to <strong>see the framework in action</strong>!</p>
<p>We will of course be <strong>writing code</strong>, but as we said earlier, a big chunk of AngularJS development is <strong>using their DSL in the template</strong>. Meaning, in the HTML!</p>
</div></section>
<section class="slide" data-pos="11-5-2">
<span class="pos">11-5-2</span>
<div class="slidecontent"><p>There is a <strong>huge bunch of demos</strong> to help us out. Some of them make up a <strong>small series</strong> of gradually building an app. We&#39;re going to get started on such a series now, which aims to gradually build a feed reader:</p>
<p><a href="resources/angularjsdemos/demos/river_01_init" target="_blank">River step 1</a></p>
</div></section>
<section class="slide" data-pos="11-5-3">
<span class="pos">11-5-3</span>
<div class="slidecontent"><p>Looking at the interesting parts of the <strong>html</strong>...</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">ng-app</span> <span class="hljs-attr">ng-init</span>=<span class="hljs-string">"name = 'River'"</span> &gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">ng-bind</span>=<span class="hljs-string">"name+', a feed reader'"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
</div></section>
<section class="slide list" data-pos="11-5-4">
<span class="pos">11-5-4</span>
<div class="slidecontent">
<p>...we see <strong>three strange DSL things</strong>:</p>
<ul>
<li><span>a</span><strong><code>ng-app</code></strong></li>
<li><span>b</span><strong><code>ng-init</code></strong></li>
<li><span>c</span><strong><code>ng-bind</code></strong></li>
</ul>
<p>In AngularJS-speak, these are called <strong>directives</strong>. Let&#39;s take a look at what they mean!</p>
</div></section>
<section class="slide num numA" data-pos="11-5-5">
<span class="pos">11-5-5</span>
<div class="slidecontent">
<p>The <strong><code>ng-app</code></strong> directive tells AngularJS that this element is the <strong>root of an AngularJS app</strong>, and everything inside here should be treated by the framework.</p>
<p>We&#39;ll later see that we should <strong>point it to a specific module</strong>.</p>
</div></section>
<section class="slide num numB" data-pos="11-5-6">
<span class="pos">11-5-6</span>
<div class="slidecontent">
<p>The <strong><code>ng-init</code></strong> directive is given a <strong>line of code which it will execute on app start</strong>. Note how the attribute contents...</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">ng-app</span> <span class="hljs-attr">ng-init</span>=<span class="hljs-string">"name = 'River'"</span> &gt;</span>
</code></pre>
<p>...map to this line of JavaScript code:</p>
<pre><code><span class="hljs-attribute">name</span> = <span class="hljs-string">'River'</span>;
</code></pre></div></section>
<section class="slide" data-pos="11-5-7">
<span class="pos">11-5-7</span>
<div class="slidecontent"><p>Don&#39;t get too attached to <code>ng-init</code> though, as we will soon learn that it is considered <strong>very bad practice</strong>!</p>
</div></section>
<section class="slide num numC" data-pos="11-5-8">
<span class="pos">11-5-8</span>
<div class="slidecontent">
<p>Finally <strong><code>ng-bind</code></strong> will create <strong>dynamic content</strong> for an element. So this html...</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">ng-bind</span>=<span class="hljs-string">"name+', a feed reader'"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
</code></pre>
<p>...would mean doing something like this with jQuery:</p>
<pre><code class="lang-javascript">$(<span class="hljs-string">'h1'</span>).html( name + <span class="hljs-string">', a feed reader'</span> );
</code></pre>
</div></section>
<section class="slide question" data-pos="11-5-9">
<span class="pos">11-5-9</span>
<div class="slidecontent">
<p>So, the <strong><code>name</code> variable</strong> that we used to make the headline, <strong>where did that come from</strong>?</p>
</div></section>
<section class="slide answer" data-pos="11-5-10">
<span class="pos">11-5-10</span>
<div class="slidecontent">
<p>Well, it was <strong>created by <code>ng-init</code></strong>!</p>
</div></section>
</section>
<!--ENDSECTION5--><!--STARTSECTION6--><section>
  <section class="slide sectiontitle">
    <div class="slidecontent">
      <div class='sectioncount'>Section 6/11</div>
      <h3>Exercise, basic Angular setup</h3>
      
    </div>
  </section>
  <section class="slide" data-pos="11-6-1">
<span class="pos">11-6-1</span>
<div class="slidecontent"><p>In this exercise, we&#39;ll do the following:</p>
<ul>
<li>Setup a new Angular application</li>
<li>Create a simple HTML template</li>
<li>Do some quick <strong>data binding</strong></li>
</ul>
</div></section>
<section class="slide" data-pos="11-6-2">
<span class="pos">11-6-2</span>
<div class="slidecontent"><p>Start by creating a new folder for the exercise. Run <code>npm init</code> as
usual (you probably know the drill by now)</p>
</div></section>
<section class="slide" data-pos="11-6-3">
<span class="pos">11-6-3</span>
<div class="slidecontent"><p>Next up, create a new basic HTML5 page. Here&#39;s a good start for you:</p>
<pre><code><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"utf-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>My first AngularJS site<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- page content goes here --&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre></div></section>
<section class="slide" data-pos="11-6-4">
<span class="pos">11-6-4</span>
<div class="slidecontent"><p>Next, install AngularJS through NPM (the package is simply called <code>angular</code>). Don&#39;t forget the <code>--save</code> flag.</p>
</div></section>
<section class="slide" data-pos="11-6-5">
<span class="pos">11-6-5</span>
<div class="slidecontent"><p>In the HTML page you created, add a <code>script</code> tag, pointing to <code>node_modules/angular/angular.min.js</code>.</p>
</div></section>
<section class="slide" data-pos="11-6-6">
<span class="pos">11-6-6</span>
<div class="slidecontent"><p>Add the <code>ng-app</code> directive to the body tag. Remember, directives in Angular start with <code>ng-</code> and are written
as attributes, such as:</p>
<pre><code><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">ng-app</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- page content goes here --&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
</code></pre></div></section>
<section class="slide" data-pos="11-6-7">
<span class="pos">11-6-7</span>
<div class="slidecontent"><p>Optional step: To make sure everything is working, add <code>{{2+2}}</code> inside the body tag.</p>
</div></section>
<section class="slide" data-pos="11-6-8">
<span class="pos">11-6-8</span>
<div class="slidecontent"><p>Fire your page up by typing the following in the folder containing your html file:</p>
<pre><code><span class="hljs-attribute">python -m SimpleHTTPServer</span>
</code></pre><p>Point your browser to <code>http://localhost:8000</code>. Hopefully, it should print &quot;4&quot;.</p>
</div></section>
<section class="slide" data-pos="11-6-9">
<span class="pos">11-6-9</span>
<div class="slidecontent"><p>We don&#39;t want to just print &quot;4&quot; to the page though. Instead, we&#39;ll make a small silly app where you can type your
first and last name in two text boxes, and have it show up in a text label on the page.</p>
</div></section>
<section class="slide" data-pos="11-6-10">
<span class="pos">11-6-10</span>
<div class="slidecontent"><p>First of all, add two input boxes inside the body page (element of type <code>&lt;input&gt;</code>).</p>
</div></section>
<section class="slide" data-pos="11-6-11">
<span class="pos">11-6-11</span>
<div class="slidecontent"><p>Give the first input box a directive <code>ng-model</code> bound to a <code>firstName</code> variable, that is, <code>ng-model=&quot;firstName&quot;</code></p>
</div></section>
<section class="slide" data-pos="11-6-12">
<span class="pos">11-6-12</span>
<div class="slidecontent"><p>Do the same for the second box, but assign <code>ng-model</code> to <code>lastName</code> instead.</p>
</div></section>
<section class="slide" data-pos="11-6-13">
<span class="pos">11-6-13</span>
<div class="slidecontent"><p>Now, add an empty <code>&lt;div&gt;</code> below the input boxes. Give it a directive <code>ng-bind</code> and assign that directive to
<code>&quot;firstName + &#39; &#39; + lastName&quot;</code>.</p>
</div></section>
<section class="slide" data-pos="11-6-14">
<span class="pos">11-6-14</span>
<div class="slidecontent"><p>Go to your page again in your browser and try typing your first and last name in the boxes. If nothing shows up, press F12
in your browser and see if you get any error message.</p>
<p>(Angular tends to give links to the actual error message in the JavaScript console)</p>
<p>If you get stuck, ask for help!</p>
</div></section>
</section>
<!--ENDSECTION6--><!--STARTSECTION7--><section>
  <section class="slide sectiontitle">
    <div class="slidecontent">
      <div class='sectioncount'>Section 7/11</div>
      <h3>Controllers</h3>
      <p>The brains</p>
</p>
    </div>
  </section>
  <section class="slide" data-pos="11-7-1">
<span class="pos">11-7-1</span>
<div class="slidecontent"><p>Although in AngularJS we put a lot in the view, we <strong>can&#39;t put everything there</strong>. We need to write some regular code to. But <strong>where does that go</strong>?</p>
<p>Why, in the <strong>controller</strong>! To see those in actions, we also need to learn about <strong>modules</strong> (and we&#39;ll throw in some <strong>interpolation</strong> too).</p>
</div></section>
<section class="slide" data-pos="11-7-2">
<span class="pos">11-7-2</span>
<div class="slidecontent"><p>Explore this demo where we refactor the previous version to <strong>use a controller instead of <code>ng-init</code></strong> to create the name variable:</p>
<p><a href="resources/angularjsdemos/demos/river_02_controller" target="_blank">River step 2</a></p>
</div></section>
<section class="slide" data-pos="11-7-3">
<span class="pos">11-7-3</span>
<div class="slidecontent"><p>Looking at the HTML...</p>
<pre><code><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">ng-app</span>=<span class="hljs-string">"river"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">ng-controller</span>=<span class="hljs-string">"listOfPosts"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span></span><span class="hljs-template-variable">{{name}}</span><span class="xml">, a feed reader<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span>
</code></pre><p>...we notice that:</p>
<ul>
<li><code>ng-app</code> directive now <strong>references a module</strong>.</li>
<li>we can use <strong><code>{{ }}</code> instead of <code>ng-bind</code></strong></li>
<li>we&#39;re <strong>referencing a controller</strong>!</li>
<li>we&#39;re no <strong>longer creating <code>name</code> here</strong>!</li>
</ul>
</div></section>
<section class="slide" data-pos="11-7-4">
<span class="pos">11-7-4</span>
<div class="slidecontent"><p>But now we have a <strong>new code file</strong>:</p>
<pre><code><span class="hljs-keyword">var</span> app = angular.module(<span class="hljs-string">"river"</span>,[]);

app.controller(<span class="hljs-string">"listOfPosts"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">($scope)</span></span>{
  $scope.name = <span class="hljs-string">"River"</span>;
});
</code></pre><p>Here we <strong>create the module we referenced</strong>, and add a controller to that module.</p>
</div></section>
<section class="slide" data-pos="11-7-5">
<span class="pos">11-7-5</span>
<div class="slidecontent"><p>Apparently, whatever we <strong>attach to <code>$scope</code></strong> in the controller...</p>
<pre><code>$<span class="hljs-keyword">scope.name </span>= <span class="hljs-string">"River"</span><span class="hljs-comment">;</span>
</code></pre><p>...is available in the template!</p>
<pre><code><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">ng-controller</span>=<span class="hljs-string">"listOfPosts"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span></span><span class="hljs-template-variable">{{name}}</span><span class="xml">, a feed reader<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
</code></pre></div></section>
<section class="slide" data-pos="11-7-6">
<span class="pos">11-7-6</span>
<div class="slidecontent"><p>What you&#39;ve seen now forms two very foundational parts of AngularJS:</p>
<ul>
<li><strong>Creating modules</strong> and <strong>adding stuff to them</strong> (mostly controllers)</li>
<li><strong>Exposing variables</strong> in the controllers to <strong>show in the view</strong></li>
</ul>
<p>(by &quot;view&quot; we mean a part of HTML controlled by a controller)</p>
</div></section>
<section class="slide" data-pos="11-7-7">
<span class="pos">11-7-7</span>
<div class="slidecontent"><p>And yes, you&#39;ve probably seen the pattern by now - (almost) all built-in directives are <strong>prefixed with <code>ng-</code></strong>.</p>
<p>This is to <strong>show that they are part of the framework</strong>. When we make <strong>our own directives</strong>, we will <strong>prefix them with something else</strong>!</p>
</div></section>
</section>
<!--ENDSECTION7--><!--STARTSECTION8--><section>
  <section class="slide sectiontitle">
    <div class="slidecontent">
      <div class='sectioncount'>Section 8/11</div>
      <h3>Exercise, controllers</h3>
      
    </div>
  </section>
  <section class="slide" data-pos="11-8-1">
<span class="pos">11-8-1</span>
<div class="slidecontent"><p>This is a smaller exercise where we&#39;ll just <strong>refactor</strong> our previous
one into using a <strong>controller</strong>, and move our logic away from the
<strong>HTML view</strong></p>
<p>(If you haven&#39;t heard the term &quot;refactor&quot; before, it&#39;s just a fancy
word for restructuring code. Programmer&#39;s love fancy words)</p>
</div></section>
<section class="slide" data-pos="11-8-2">
<span class="pos">11-8-2</span>
<div class="slidecontent"><p>Make sure you finished up all the steps of the last exercise, since we&#39;ll
continue building on that one for now.</p>
</div></section>
<section class="slide" data-pos="11-8-3">
<span class="pos">11-8-3</span>
<div class="slidecontent"><p>First, instead of just having <code>ng-app</code> assigned to your body tag, give
it a name, such as <code>ng-app=&#39;SillyApp&#39;</code> (or something a bit more serious
if that&#39;s your cup of tea).</p>
</div></section>
<section class="slide" data-pos="11-8-4">
<span class="pos">11-8-4</span>
<div class="slidecontent"><p>Add a <code>div</code> inside the body tag, and <strong>make this div wrap the rest of the content</strong>.</p>
<p>That is, put the rest of the content in the body tag inside this new div.</p>
</div></section>
<section class="slide" data-pos="11-8-5">
<span class="pos">11-8-5</span>
<div class="slidecontent"><p>Add the <code>ng-controller</code> directive to the div you just created. Assign it a name (such as <code>nameController</code>).</p>
</div></section>
<section class="slide" data-pos="11-8-6">
<span class="pos">11-8-6</span>
<div class="slidecontent"><p>Next up, create a new file (for instance, <code>code.js</code>). Also, add a script
tag in your HTML file for it. Make sure to add the script tag <strong>after
the angular script tag</strong></p>
</div></section>
<section class="slide" data-pos="11-8-7">
<span class="pos">11-8-7</span>
<div class="slidecontent"><p>In <code>code.js</code>, create a <strong>module</strong> and a <strong>controller</strong> by
calling <code>angular.module</code> and later <code>controller</code> on your app object, respectively.</p>
<p>Consult the slides on how to do this. Remember, the name you give to these
functions <strong>need to be the same</strong> as the ones you declared on <code>ng-app</code> and <code>ng-controller</code></p>
</div></section>
<section class="slide" data-pos="11-8-8">
<span class="pos">11-8-8</span>
<div class="slidecontent"><p>In your controller, declare the following three things, attached to the <code>$scope</code> variable:</p>
<pre><code>$scope.firstName = <span class="hljs-string">""</span>;
$scope.lastName = <span class="hljs-string">""</span>;
$scope.fullName = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
    <span class="hljs-comment">// Return the full name from here!</span>
}
</code></pre><p>Also, I&#39;ll leave it for yourself to fill out the &quot;fullName&quot; implementation.</p>
</div></section>
<section class="slide" data-pos="11-8-9">
<span class="pos">11-8-9</span>
<div class="slidecontent"><p>Finally, remove the <code>ng-bind</code> assignment on your <code>div</code> element, and
instead assign it as:</p>
<pre><code><span class="hljs-attr">ng-bind</span>=<span class="hljs-string">"fullName()"</span>
</code></pre></div></section>
<section class="slide" data-pos="11-8-10">
<span class="pos">11-8-10</span>
<div class="slidecontent"><p>Try to view your application in your browser. It should work the same
way as before, but with the logic separated out into a controller.</p>
</div></section>
</section>
<!--ENDSECTION8--><!--STARTSECTION9--><section>
  <section class="slide sectiontitle">
    <div class="slidecontent">
      <div class='sectioncount'>Section 9/11</div>
      <h3>Loops</h3>
      <p>...and more!</p>
</p>
    </div>
  </section>
  <section class="slide" data-pos="11-9-1">
<span class="pos">11-9-1</span>
<div class="slidecontent"><p>Say we expose a list in our controller...</p>
<pre><code class="lang-javascript">$scope.posts = [<span class="hljs-string">"foo"</span>,<span class="hljs-string">"bar"</span>,<span class="hljs-string">"baz"</span>];
</code></pre>
<p>...how do we show those? With <code>ng-repeat</code>, that&#39;s how! </p>
<p><a href="resources/angularjsdemos/demos/river_03_stringlist" target="_blank">River step 3</a></p>
</div></section>
<section class="slide" data-pos="11-9-2">
<span class="pos">11-9-2</span>
<div class="slidecontent"><p>So if we <strong>put this on an element</strong>:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">ng-repeat</span>=<span class="hljs-string">"item in posts"</span>&gt;</span>
</code></pre>
<p>...then <strong>inside that element we can access <code>item</code></strong> (which we could have called whatever).</p>
<pre><code class="lang-html">{{$index+1}}: {{item}}
</code></pre>
<p><code>$index</code> is an additional bonus variable that points to the index (0,1,2...).</p>
</div></section>
<section class="slide" data-pos="11-9-3">
<span class="pos">11-9-3</span>
<div class="slidecontent"><p>In a real app, however, we often need to <strong>loop over objects</strong>, and not just strings.</p>
<p><a href="resources/angularjsdemos/demos/river_04_objlist" target="_blank">River step 4</a></p>
<p>This <strong>works just like before</strong>, except the iteration variable now <strong>points to an object</strong>!</p>
</div></section>
<section class="slide" data-pos="11-9-4">
<span class="pos">11-9-4</span>
<div class="slidecontent"><p>Let&#39;s start <strong>adding some behaviour</strong> to River. It is supposed to be a feed reader, so <strong>each object represents a blog post</strong> with a <code>title</code> and some <code>content</code>.</p>
<p>Right now we <strong>show all posts</strong>, but <strong>that won&#39;t scale</strong>. Let&#39;s just <strong>show all titles</strong>, but only the <strong><code>content</code> of the latest clicked title</strong>!</p>
</div></section>
<section class="slide" data-pos="11-9-5">
<span class="pos">11-9-5</span>
<div class="slidecontent"><p>Much like <strong><code>ng-init</code></strong> allowed us to write code statement that were <strong>executed on app start</strong>...</p>
<p>...so does <strong><code>ng-click</code></strong> allow us to write code statements that are <strong>executed on clicks</strong>!</p>
<p>Also, there is an <strong><code>ng-show</code></strong> directive that <strong>only shows the element if the provided expression is truthy</strong>.</p>
</div></section>
<section class="slide" data-pos="11-9-6">
<span class="pos">11-9-6</span>
<div class="slidecontent"><p>In <a href="resources/angularjsdemos/demos/river_05_showbug" target="_blank">River step 5</a> we <strong>hide contents unless they are the selected post</strong>, and we <strong>select a post when the title is clicked</strong>. </p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">ng-repeat</span>=<span class="hljs-string">"item in posts"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h4</span> <span class="hljs-attr">ng-click</span>=<span class="hljs-string">"selectedPost = item"</span>&gt;</span>{{item.title}}<span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">ng-show</span>=<span class="hljs-string">"item === selectedPost"</span>&gt;</span>
    {{item.content}}
  <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p>But, this doesn&#39;t work as expected! Why?!</p>
</div></section>
<section class="slide" data-pos="11-9-7">
<span class="pos">11-9-7</span>
<div class="slidecontent"><p>We&#39;ve failed to realise that <strong>some directives get their own scope</strong>!</p>
<div style="display: inline-block; background-color: white;">
<img src="resources/images/nested-scopes.svg" alt="">
</div></div></section>
<section class="slide" data-pos="11-9-8">
<span class="pos">11-9-8</span>
<div class="slidecontent"><p>We can fix this by <strong>fixing another mistake</strong>, namely the one of <strong>putting logic in the view</strong>. Instead of <strong>mutating <code>selectedPost</code> in the view</strong>...</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">h4</span> <span class="hljs-attr">ng-click</span>=<span class="hljs-string">"selectedPost = item"</span>&gt;</span>{{item.title}}<span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>
</code></pre>
<p>...let&#39;s instead <strong>call a method</strong> to which we <strong>pass in the post to be selected</strong>!</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">h4</span> <span class="hljs-attr">ng-click</span>=<span class="hljs-string">"viewPost(item)"</span>&gt;</span>{{item.title}}<span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>
</code></pre>
</div></section>
<section class="slide" data-pos="11-9-9">
<span class="pos">11-9-9</span>
<div class="slidecontent"><p>Of course, now the controller must <strong>expose that method</strong>. This is also a very common pattern in AngularJS - controllers don&#39;t just expose variables, they also expose methods.</p>
<pre><code class="lang-javascript">$scope.viewPost = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">post</span>)</span>{
  $scope.selectedPost = post;
};
</code></pre>
<p>See this in action in <a href="resources/angularjsdemos/demos/river_06_showok" target="_blank">River step 6</a>, which works as intended.</p>
</div></section>
<section class="slide question" data-pos="11-9-10">
<span class="pos">11-9-10</span>
<div class="slidecontent">
<p>Maybe this wasn&#39;t all that impressive, but you have now witnessed the <strong>true power of a framework</strong>!</p>
<p>Do you know what I&#39;m referring to?</p>
</div></section>
<section class="slide answer" data-pos="11-9-11">
<span class="pos">11-9-11</span>
<div class="slidecontent">
<p>Well, first off the fact that we <strong>can have behaviour</strong> and <strong>not just show values</strong> like Handlebars.</p>
<p>But mostly the fact that <strong>whenever the data (model) updates, the view rerenders</strong>!</p>
</div></section>
<section class="slide" data-pos="11-9-12">
<span class="pos">11-9-12</span>
<div class="slidecontent"><p>This is <strong>the prime chore that a framework takes over for us</strong>.</p>
<p>We <strong>specify what the view should look like given the data</strong>, and then the framework will <strong>reapply that specification whenever necessary</strong>.</p>
</div></section>
</section>
<!--ENDSECTION9--><!--STARTSECTION10--><section>
  <section class="slide sectiontitle">
    <div class="slidecontent">
      <div class='sectioncount'>Section 10/11</div>
      <h3>More DSL words</h3>
      <p>This is like learning french!</p>
</p>
    </div>
  </section>
  <section class="slide list" data-pos="11-10-1">
<span class="pos">11-10-1</span>
<div class="slidecontent">
<p>Before we let you loose on the first exercise, we&#39;re gonna give you a <strong>couple more directives</strong>!</p>
<ul>
<li><span>a</span><code>ng-model</code></li>
<li><span>b</span><code>ng-class</code></li>
</ul>
</div></section>
<section class="slide num numA" data-pos="11-10-2">
<span class="pos">11-10-2</span>
<div class="slidecontent">
<p>First, <strong><code>ng-model</code></strong>. This sets up a <strong>two-way data binding</strong> between a <strong>form control</strong> and a <strong>scope variable</strong>:</p>
<p><a href="resources/angularjsdemos/demos/ngmodel" target="_blank">ng-model</a></p>
<p>Note how <strong>a change in the input is reflected in the variable</strong>, and <strong>vice versa</strong>!</p>
</div></section>
<section class="slide num numB" data-pos="11-10-3">
<span class="pos">11-10-3</span>
<div class="slidecontent">
<p>The <code>ng-class</code> directive is used to <strong>dynamically set CSS classes</strong>: <a href="resources/angularjsdemos/demos/ngclass" target="_blank">ng-class</a></p>
<p>The directive expects <strong>an object</strong> where <strong>each key is a potential class</strong>, given <strong>if their respective values are truthy</strong>:</p>
<pre><code>&lt;p ng-<span class="hljs-class"><span class="hljs-keyword">class</span>="{</span> <span class="hljs-string">night:</span> bedtime, <span class="hljs-string">neat:</span> arrogant }<span class="hljs-string">"&gt;</span>
</code></pre><p>This gets the <code>night</code> class if <code>bedtime</code> is truthy, and the <code>neat</code> class if <code>arrogant</code> is truthy.</p>
</div></section>
</section>
<!--ENDSECTION10--><!--STARTSECTION11--><section>
  <section class="slide sectiontitle">
    <div class="slidecontent">
      <div class='sectioncount'>Section 11/11</div>
      <h3>Exercise - AngularJS dabbling</h3>
      <p>Getting our hands dirty</p>
</p>
    </div>
  </section>
  <section class="slide" data-pos="11-11-1">
<span class="pos">11-11-1</span>
<div class="slidecontent"><p>Finally we have enough to <strong>try our hand at an AngularJS app</strong>! Your job is to <strong>make a tiny ToDo app</strong>:</p>
<p><img src="resources/images/chorelist.png" alt=""></p>
<p>Writing in the field and clicking the button <strong>adds a new chore</strong>.</p>
</div></section>
<section class="slide" data-pos="11-11-2">
<span class="pos">11-11-2</span>
<div class="slidecontent"><p>You <strong>won&#39;t actually get any instructions beyond that</strong>! Refer to the slides and the demos! :)</p>
<p>You will however get <strong>three helpful notes</strong>! First: we add to an array using the <code>.push</code> method:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> myarr = [<span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>, <span class="hljs-string">'c'</span>];
myarr.push(<span class="hljs-string">'d'</span>); <span class="hljs-comment">// myarr is now ['a', 'b', 'c', 'd']</span>
</code></pre>
</div></section>
<section class="slide" data-pos="11-11-3">
<span class="pos">11-11-3</span>
<div class="slidecontent"><p>Also, if your array contains strings, <code>ng-repeat</code> will <strong>barf if it contains duplicates</strong>. Prevent this by adding this magic:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">ng-repeat</span>=<span class="hljs-string">"todo in list track by $index"</span>&gt;</span>
</code></pre>
<p>(note the <code>track by $index</code> part)</p>
</div></section>
<section class="slide" data-pos="11-11-4">
<span class="pos">11-11-4</span>
<div class="slidecontent"><p>Finally, here is a <strong>super-powerful debug tip</strong>. If there is a <strong>variable in the scope you want to see live how it changes</strong> - for instance the <code>list</code> of chores - then <strong>add this to the template</strong>:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">pre</span>&gt;</span>{{list | json}}<span class="hljs-tag">&lt;/<span class="hljs-name">pre</span>&gt;</span>
</code></pre>
<p>And voilà, live debugging!</p>
</div></section>
<section class="slide challenge" data-pos="11-11-5">
<span class="pos">11-11-5</span>
<div class="slidecontent">
<p>If you sailed through that, also <strong>add a checkbox to each item</strong> which <strong>toggles whether they are completed</strong>. Completed items should have some <strong>nice class applied</strong>.</p>
<p><img src="resources/images/chorelistcheck.png" alt=""></p>
</div></section>
<section class="slide" data-pos="11-11-6">
<span class="pos">11-11-6</span>
<div class="slidecontent"><p>Since each chore now has more data than just text (it also has a bool for whether it is completed or not), we can no longer represent them as just strings. Instead they <strong>must become objects</strong>!</p>
</div></section>
<section class="slide" data-pos="11-11-7">
<span class="pos">11-11-7</span>
<div class="slidecontent"><p>Also you should know that <strong><code>ng-model</code> doesn&#39;t just bind to a variable</strong>, but you can also bind it to a <strong>property inside an object</strong>!</p>
<p>This means we can <strong>connect a checkbox directly to a prop inside the chore objects</strong>!</p>
</div></section>
</section>
<!--ENDSECTION11--><!--ENDCHAPTERCONTENT-->
        

      </div>
    </div>

    <script type="text/javascript">
      var basehref = window.location.href.replace(/chapter\d.*?$/,'')

      document.addEventListener("keydown",function(e){
        var code = e.which || e.keyCode;
        if (code===13){
          window.location.href = basehref+"index.html?from="+(11-1);
        } else if (code >= 49 && code <= 11+48) {
          window.location.hash = "#/" + (code-48+1+0);
        }
        if (11 < 12) {
          if (code===99){ // the letter C for next Chapter
            window.location.href = basehref+"chapter"+(11+1)+".html"
          }
        }
      });
    </script>
    <script src="mc2/scripts/head.js" type="text/javascript"></script>
    <script src="mc2/scripts/reveal.js" type="text/javascript"></script>
    <script src="mc2/scripts/jquery.js" type="text/javascript"></script>
    <script type="text/javascript">

  Reveal.initialize({
    controls: true,
    progress: true,
    history: true,
    center: true,
    showNotes: false,
    transition: 'slide',
    dependencies: [
      { src: 'mc2/scripts/plugin/notes/notes.js', async: true }
    ]
  })

    window.onload = function(){

      var links = document.querySelectorAll("a.link");
      for(var i=0;i<links.length;i++){
        var link = links[i];
        link.innerHTML = link.innerHTML.replace(/ /g,'&nbsp;')
      }
      var posElem = document.getElementById('pos')
      function updateReference(){
        setTimeout(function(){
          var currentpos = document.querySelector('section.present[data-pos]')
          if (currentpos){
            posElem.innerHTML = currentpos.getAttribute('data-pos')
          } else {
            posElem.innerHTML = ''
          }
          if (document.querySelector('.present.chaptertitle')){
            document.body.classList.add('atchaptertitle');
          } else {
            document.body.classList.remove('atchaptertitle');
          }
        },10)
      }

      window.addEventListener("hashchange",updateReference);

      updateReference();
    };

    </script>
    <!--STARTCOURSESPECIFICSCRIPTS--><script type="text/javascript" src="scripts/bootstrap.js"></script>
<script type="text/javascript" src="scripts/cssdemo.js"></script>
<script type="text/javascript" src="scripts/scoped_polyfill.js"></script><!--ENDCOURSESPECIFICSCRIPTS-->
    <script type="text/javascript" src="/reload/reload.js"></script>
  </body>
</html>
